# Приложение для создания пользователей

Приложение позволяет создавать пользователей в базе данных Oracle на основе email адресов с автоматической отправкой приветственных писем. Доступны две версии интерфейса: графический (GUI) и веб.

## Требования

- Python 3.6+
- Oracle Instant Client
- Следующие Python пакеты:
  ```bash
  pip install cx_Oracle flask
  ```

## Структура проекта 
```
project_folder/
├── README.md
├── config.py          # Конфигурационные параметры
├── database.py        # Работа с базой данных
├── mail_manager.py    # Отправка email
├── utils.py          # Вспомогательные функции
├── gui.py            # Графический интерфейс
├── web_app.py        # Веб-интерфейс
├── templates/        # HTML шаблоны для веб-версии
│   └── index.html
└── PIC/             # Каталог с картинками для писем
```

## Настройка

1. Установите Oracle Instant Client

2. Создайте каталог PIC и поместите в него картинки, которые будут прикрепляться к письмам

3. Настройте параметры в config.py:
   - Параметры подключения к базе данных Oracle
   - Параметры SMTP-сервера для отправки писем
   - Путь к каталогу с картинками

## Запуск

### Графическая версия

```bash
python gui.py
```

### Веб-версия

```bash
python web_app.py
```
После запуска веб-версии откройте браузер и перейдите по адресу http://localhost:5000

## Функциональность

1. Подключение к базе данных Oracle
2. Создание пользователей на основе email адресов:
   - Для домена BNIPI: логин = имя_почтового_ящика
   - Для других доменов: логин = домен_имя_почтового_ящика
3. Генерация случайных паролей (8 символов, включая буквы, цифры и #)
4. Вызов процедуры создания пользователя в БД
5. Отправка приветственного письма с логином и паролем
6. Логирование всех операций

## Обработка ошибок

- Приложение обрабатывает ошибки подключения к базе данных
- Обрабатываются ошибки отправки email
- Все ошибки логируются и отображаются в интерфейсе

## Примечания

- Убедитесь, что Oracle Instant Client установлен и доступен в системном пути
- Проверьте доступность SMTP-сервера и корректность учетных данных
- Для тестирования можно использовать локальный SMTP-сервер 